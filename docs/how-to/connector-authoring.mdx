---
title: Connector Authoring
---

Use this guide to create connector YAML files that are valid, reviewable, and production-safe.

## Baseline Required Fields

Every connector must define:

- `apiVersion: sync.gemini.io/v1alpha1`
- `kind: Connector`
- `metadata.name`
- `spec.mode`
- `spec.source`
- `spec.output`
- `spec.reconciliation`

`spec.mapping` is required for `spec.output.format: ndjson`. For raw SQL CSV exports (`spec.output.format: csv`), mapping can be omitted.

`spec.gemini` is required by default. You can omit it only when `spec.ingestion.enabled: false` (bucket-only mode).

## Optional Delivery Controls

- `spec.ingestion.enabled: false` disables Discovery Engine ingestion and keeps runs bucket-only.
- `spec.output.format: csv` exports raw SQL rows directly to a CSV file in object storage (sql_pull only).
- `spec.output.publishLatestAlias: true` overwrites stable files under `connectors/<prefix>/latest/` while preserving historical `runs/<run_id>/` artifacts.

## Choose Mode First

- Poll SQL sources: [SQL Pull](/docs/how-to/connectors/sql-pull)
- Poll REST APIs: [REST Pull](/docs/how-to/connectors/rest-pull)
- Accept event pushes: [REST Push](/docs/how-to/connectors/rest-push)
- Poll local CSV files: [File Pull](/docs/how-to/connectors/file-pull)

## Keep Runtime Repo Clean

- Add only curated examples to `connectors/`.
- Keep environment-specific connectors in a separate connector-config repo.
- Set `CONNECTORS_DIR` for API/Ops/Studio discovery.

The connector-config repo follows a documented layout convention (`connectors/`, `evals/`, `tests/`, `scripts/`, `.agent/tasks/`). See [Connector Config Repository](/docs/how-to/connector-config-repo) for the full setup guide, directory skeleton, and day-to-day run instructions.

## Validate Before PR

```bash
python scripts/validate_connectors.py
python scripts/check_connector_examples_allowlist_drift.py
python scripts/check_connector_examples_only.py
pytest tests/test_connector_samples.py
```

## Reference

- Full field table: [Connector Fields](/docs/reference/connector-fields)
- Provider details: [Providers](/docs/reference/providers/postgres)
- Conceptual model: [Connector Model](/docs/concepts/connector-model)
