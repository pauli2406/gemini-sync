---
title: Migrate Custom Connectors
---

This guide migrates custom connectors out of this runtime repository.

## Goal

Move custom connector YAML files into a dedicated connector-config repository or directory with no runtime behavior change.

## Preflight

```bash
python scripts/check_connector_examples_allowlist_drift.py
python scripts/check_connector_examples_only.py --changed-file connectors/examples-allowlist.txt
python scripts/validate_connectors.py
```

## Cutover Steps

1. Create or select a connector-config repository.
2. Copy custom connector files into `connectors/<id>.yaml` in that repository.
3. Set runtime discovery:

```bash
export CONNECTORS_DIR=/path/to/connector-config-repo/connectors
```

4. Run discovery checks:

- Ops UI lists migrated connectors.
- Studio can load/edit migrated connectors.
- CLI run works with explicit path.

## Verification

```bash
gemini-sync-bridge run --connector /path/to/connector-config-repo/connectors/<id>.yaml
gemini-sync-bridge serve --host 0.0.0.0 --port 8080
```

Verify expected connector and run visibility in `/ops` and `/studio/connectors`.

## Rollback

If migration blocks operations:

1. Point `CONNECTORS_DIR` back to prior location.
2. Re-run validation and an explicit connector run.
3. Re-open migration PR after issue remediation.
